i) Get fasta of proteins with domains
xargs samtools faidx ../../C_diamondAligment/allProteins.sorted.fasta < proteinsWithDomains.names.csv > proteinsWithDomains.fasta

ii) Get a random sample of the proteins with domains
sort -R proteinsWithDomains.names.csv | head -n 2357  > proteinsWithDomains.sample1.names.csv (proteins with domains 10% is 2357)
xargs samtools faidx proteinsWithDomains.fasta < proteinsWithDomains.sample1.names.csv > proteinsWithDomains.sample1.fasta 
(This step was made until get 3 samples)

iii) Get domains running interpro
nohup ~/Programs/interproscan-5.16-55.0/interproscan.sh -i proteinsWithDomains.sample1.fasta -f tsv -o proteinsWithDomains.domains.tsv &
(This was made for each sample)

iv) Parse interpro output to reflect dereplicated domains
Remove in excel rows without description. Then sort it by ProteinAccession, Start and Stop
Rscript interproOutputParser.R proteinsWithDomains.sample1.domains.csv proteinsWithDomains.sample1.domains.parsed.csv
(made for each sample)

v) Get the count of interpro domains for each protein for each sample
Rscript countDomainsInterpro.R proteinsWithDomains.sample3.domains.parsed.csv proteinsWithDomains.sample3.domains.count.csv

vi) Get the count of domains generated by my aprox in each protein of each sample in all coverages 
grep -f proteinsWithDomains.sample1.names.csv ../D_getDomainsSummary/countDomainsE00001X0.txt > proteinsWithDomains.sample1.myDomains.count.csv
sed 's/.tbl.domains//g' proteinsWithDomains.sample1.myDomainsE001X0.count.csv  > proteinsWithDomains.sample1.myDomainsE001X0.count.csv.mod
mv proteinsWithDomains.sample1.myDomainsE001X0.count.csv.mod proteinsWithDomains.sample1.myDomainsE001X0.count.csv

vii) Join tables and graph results
Rscript plotCountDomains.R proteinsWithDomains.sample3.domains.count.csv proteinsWithDomains.sample3.myDomainsE00001X0.count.csv proteinsWithDomains.sample3.myDomainsE00001X4.count.csv proteinsWithDomains.sample3.myDomainsE00001X8.count.csv proteinsWithDomains.sample3.myDomainsE00001X16.count.csv outputFile.pdf

viii) Do 6th and 7th steps for all evalues and all coverages. 

